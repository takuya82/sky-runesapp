:root {
  --bg: #0f172a;
  --fg: #e5e7eb;
  --muted: #94a3b8;
  --card: #111827;
  --accent: #6366f1;
  --border: #1f2937;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; }
body { background: var(--bg); color: var(--fg); font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic UI", "Meiryo", sans-serif; position: relative; }
body::before { content: ""; position: fixed; inset: 0; background: url("image/image/Generated Image September 06, 2025 - 5_17PM.jpeg") center/cover no-repeat; opacity: 0.12; pointer-events: none; filter: saturate(0.9) contrast(1.05); }
/* Damage flash overlay */
body.hurt::after { content: ""; position: fixed; inset: 0; background: rgba(239,68,68,.28); pointer-events: none; animation: hurtFlash .28s ease-out forwards; }
@keyframes hurtFlash { from { opacity: 1 } to { opacity: 0 } }

.container { max-width: 960px; margin: 0 auto; padding: 16px; }
header h1 { margin: 8px 0 0; font-size: 28px; }
.sub { margin: 0; color: var(--muted); }

.card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; margin: 16px 0; }
.muted { color: var(--muted); font-size: 14px; }
.foot { color: var(--muted); font-size: 12px; padding-bottom: 24px; }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
.tile { background: #0b1220; border: 1px solid var(--border); border-radius: 10px; overflow: hidden; }
.tile img { display: block; width: 100%; height: 140px; object-fit: cover; }
.tile .cap { padding: 8px; font-size: 13px; color: var(--muted); border-top: 1px solid var(--border); }

ul { margin: 0.5rem 0 0; padding-left: 1.25rem; }
li { margin: 0.25rem 0; }

/* Buttons, labels */
.btn { appearance: none; border: 1px solid var(--border); background: #111827; color: var(--fg); padding: 8px 12px; border-radius: 10px; cursor: pointer; }
.btn:hover { filter: brightness(1.1); }
.btn:active { transform: translateY(1px); }
.btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
.btn { min-height: 38px; }
.btn-primary { background: var(--accent); border-color: var(--accent); color: white; }

.label { display: inline-block; padding: 2px 8px; border-radius: 999px; border: 1px solid var(--border); font-size: 12px; }
.label-ok { background: #064e3b; color: #d1fae5; border-color: #065f46; }
.label-ng { background: #7f1d1d; color: #fee2e2; border-color: #991b1b; }

.row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.space { height: 8px; }
/* minimal UI for story layout */
main#game { max-width: 720px; margin: 0 auto; }
main#game section { margin: 12px 0; padding: 12px; border: 1px solid var(--border); border-radius: 10px; background: color-mix(in oklab, var(--card) 90%, black); backdrop-filter: blur(2px); }
.badge { display: inline-block; padding: 2px 8px; border-radius: 999px; background: #0b1220; border: 1px solid var(--border); color: var(--fg); font-size: 12px; }
#choices button { margin: 4px 8px 0 0; }
.choice-ok { background: #065f46 !important; border-color: #065f46 !important; color: #d1fae5 !important; }
.choice-ng { background: #7f1d1d !important; border-color: #991b1b !important; color: #fee2e2 !important; }
.muted { letter-spacing: .01em; }
#dialog { max-width: 52ch; }
#dialog p { margin: .5rem 0; }
/* HP hearts */
.hearts { color: #f87171; letter-spacing: 1px; }
/* crumbs */
.crumbs { margin-top: 6px; font-size: 12px; color: var(--muted); }
.crumb { padding: 1px 6px; border-radius: 999px; border: 1px solid var(--border); }
.crumb.cur { background: #0b1220; color: var(--fg); }
.crumb.done { background: #065f46; color: #d1fae5; border-color: #065f46; }
.sep { opacity: .6; margin: 0 2px; }

/* Mobile tweaks */
@media (max-width: 480px) {
  body { font-size: 15px; }
  .btn { padding: 10px 14px; border-radius: 12px; }
  #choices button { margin: 6px 8px 0 0; }
  .badge { font-size: 11px; }
  .crumbs { font-size: 11px; }
  #dialog { max-width: none; }
}

/* Scene illustration */
.illust { margin: 10px 0 14px; }
.illust img { width: 100%; max-height: 220px; object-fit: cover; border-radius: 10px; border: 1px solid var(--border); box-shadow: 0 6px 20px rgba(0,0,0,.25); display: block; opacity: 0; animation: fadeIn .35s ease forwards; }
.flavor { font-style: italic; color: var(--muted); margin: 6px 2px 10px; }
@keyframes fadeIn { to { opacity: 1; } }

/* Hero Title */
.hero { text-align: center; margin: 12px 0 16px; }
.logo-main { font-family: 'Uncial Antiqua', serif; font-size: clamp(36px, 7vw, 64px); letter-spacing: .02em; line-height: 1.05; margin: 0; 
  background: linear-gradient(180deg, #f8fafc, #c7d2fe 60%, #93c5fd);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 2px 0 rgba(0,0,0,.25), 0 8px 24px rgba(30,58,138,.35);
}
.logo-sub { margin-top: 4px; font-size: clamp(14px, 2.6vw, 18px); color: #c7d2fe; text-shadow: 0 1px 0 rgba(0,0,0,.35); }
